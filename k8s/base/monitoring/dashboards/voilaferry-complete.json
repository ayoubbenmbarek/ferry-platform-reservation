{
  "annotations": {
    "list": []
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "links": [],
  "liveNow": false,
  "panels": [
    {
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 0},
      "id": 100,
      "panels": [],
      "title": "Service Health Overview",
      "type": "row"
    },
    {
      "datasource": {"type": "prometheus", "uid": "${prometheus_datasource}"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [
            {"options": {"0": {"color": "red", "index": 1, "text": "DOWN"}}, "type": "value"},
            {"options": {"1": {"color": "green", "index": 0, "text": "UP"}}, "type": "value"}
          ],
          "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}
        }
      },
      "gridPos": {"h": 4, "w": 4, "x": 0, "y": 1},
      "id": 1,
      "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
      "targets": [{"expr": "up{job=\"postgresql\"}", "refId": "A"}],
      "title": "PostgreSQL",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "${prometheus_datasource}"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [
            {"options": {"0": {"color": "red", "index": 1, "text": "DOWN"}}, "type": "value"},
            {"options": {"1": {"color": "green", "index": 0, "text": "UP"}}, "type": "value"}
          ],
          "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}
        }
      },
      "gridPos": {"h": 4, "w": 4, "x": 4, "y": 1},
      "id": 2,
      "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
      "targets": [{"expr": "redis_up", "refId": "A"}],
      "title": "Redis",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "${prometheus_datasource}"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [
            {"options": {"0": {"color": "red", "index": 1, "text": "DOWN"}}, "type": "value"},
            {"options": {"1": {"color": "green", "index": 0, "text": "UP"}}, "type": "value"}
          ],
          "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}
        }
      },
      "gridPos": {"h": 4, "w": 4, "x": 8, "y": 1},
      "id": 3,
      "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
      "targets": [{"expr": "up{job=\"prometheus\"}", "refId": "A"}],
      "title": "Prometheus",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "${prometheus_datasource}"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [
            {"options": {"0": {"color": "red", "index": 1, "text": "DOWN"}}, "type": "value"},
            {"options": {"1": {"color": "green", "index": 0, "text": "UP"}}, "type": "value"}
          ],
          "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}
        }
      },
      "gridPos": {"h": 4, "w": 4, "x": 12, "y": 1},
      "id": 4,
      "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
      "targets": [{"expr": "up{job=\"cadvisor\"}", "refId": "A"}],
      "title": "cAdvisor",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "${prometheus_datasource}"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [
            {"options": {"0": {"color": "red", "index": 1, "text": "DOWN"}}, "type": "value"},
            {"options": {"1": {"color": "green", "index": 0, "text": "UP"}}, "type": "value"}
          ],
          "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}
        }
      },
      "gridPos": {"h": 4, "w": 4, "x": 16, "y": 1},
      "id": 5,
      "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
      "targets": [{"expr": "up{job=\"kube-state-metrics\"}", "refId": "A"}],
      "title": "Kube State Metrics",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "${prometheus_datasource}"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 1}, {"color": "red", "value": 3}]},
          "unit": "short"
        }
      },
      "gridPos": {"h": 4, "w": 4, "x": 20, "y": 1},
      "id": 6,
      "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
      "targets": [{"expr": "sum(kube_pod_container_status_restarts_total{namespace=\"maritime-reservations-staging\"})", "refId": "A"}],
      "title": "Total Pod Restarts",
      "type": "stat"
    },
    {
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 5},
      "id": 101,
      "panels": [],
      "title": "PostgreSQL",
      "type": "row"
    },
    {
      "datasource": {"type": "prometheus", "uid": "${prometheus_datasource}"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 80}, {"color": "red", "value": 100}]},
          "unit": "short"
        }
      },
      "gridPos": {"h": 6, "w": 6, "x": 0, "y": 6},
      "id": 10,
      "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
      "targets": [{"expr": "pg_stat_activity_count{datname=\"maritime_reservations\"}", "legendFormat": "Active Connections", "refId": "A"}],
      "title": "PostgreSQL Active Connections",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "${prometheus_datasource}"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]},
          "unit": "bytes"
        }
      },
      "gridPos": {"h": 6, "w": 6, "x": 6, "y": 6},
      "id": 11,
      "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
      "targets": [{"expr": "pg_database_size_bytes{datname=\"maritime_reservations\"}", "legendFormat": "Database Size", "refId": "A"}],
      "title": "PostgreSQL Database Size",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "${prometheus_datasource}"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "custom": {"axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 10, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "never", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}},
          "unit": "short"
        }
      },
      "gridPos": {"h": 6, "w": 12, "x": 12, "y": 6},
      "id": 12,
      "options": {"legend": {"calcs": [], "displayMode": "list", "placement": "bottom", "showLegend": true}, "tooltip": {"mode": "single", "sort": "none"}},
      "targets": [
        {"expr": "rate(pg_stat_database_tup_fetched{datname=\"maritime_reservations\"}[5m])", "legendFormat": "Rows Fetched/s", "refId": "A"},
        {"expr": "rate(pg_stat_database_tup_inserted{datname=\"maritime_reservations\"}[5m])", "legendFormat": "Rows Inserted/s", "refId": "B"},
        {"expr": "rate(pg_stat_database_tup_updated{datname=\"maritime_reservations\"}[5m])", "legendFormat": "Rows Updated/s", "refId": "C"}
      ],
      "title": "PostgreSQL Operations Rate",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 12},
      "id": 102,
      "panels": [],
      "title": "Redis",
      "type": "row"
    },
    {
      "datasource": {"type": "prometheus", "uid": "${prometheus_datasource}"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]},
          "unit": "bytes"
        }
      },
      "gridPos": {"h": 6, "w": 6, "x": 0, "y": 13},
      "id": 20,
      "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
      "targets": [{"expr": "redis_memory_used_bytes", "legendFormat": "Memory Used", "refId": "A"}],
      "title": "Redis Memory Usage",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "${prometheus_datasource}"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]},
          "unit": "short"
        }
      },
      "gridPos": {"h": 6, "w": 6, "x": 6, "y": 13},
      "id": 21,
      "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
      "targets": [{"expr": "redis_connected_clients", "legendFormat": "Connected Clients", "refId": "A"}],
      "title": "Redis Connected Clients",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "${prometheus_datasource}"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "yellow", "value": 0.8}, {"color": "green", "value": 0.95}]},
          "unit": "percentunit"
        }
      },
      "gridPos": {"h": 6, "w": 6, "x": 12, "y": 13},
      "id": 22,
      "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
      "targets": [{"expr": "redis_keyspace_hits_total / (redis_keyspace_hits_total + redis_keyspace_misses_total)", "legendFormat": "Hit Rate", "refId": "A"}],
      "title": "Redis Cache Hit Rate",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "${prometheus_datasource}"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "custom": {"axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 10, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "never", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}},
          "unit": "ops"
        }
      },
      "gridPos": {"h": 6, "w": 6, "x": 18, "y": 13},
      "id": 23,
      "options": {"legend": {"calcs": [], "displayMode": "list", "placement": "bottom", "showLegend": true}, "tooltip": {"mode": "single", "sort": "none"}},
      "targets": [
        {"expr": "rate(redis_commands_processed_total[5m])", "legendFormat": "Commands/s", "refId": "A"}
      ],
      "title": "Redis Commands Rate",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 19},
      "id": 103,
      "panels": [],
      "title": "Container Resources (Pods)",
      "type": "row"
    },
    {
      "datasource": {"type": "prometheus", "uid": "${prometheus_datasource}"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "custom": {"axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 10, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "never", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}},
          "unit": "percent"
        }
      },
      "gridPos": {"h": 8, "w": 12, "x": 0, "y": 20},
      "id": 30,
      "options": {"legend": {"calcs": ["mean", "max"], "displayMode": "table", "placement": "right", "showLegend": true}, "tooltip": {"mode": "single", "sort": "none"}},
      "targets": [
        {"expr": "kube_pod_container_resource_requests{namespace=\"maritime-reservations-staging\", resource=\"cpu\"}", "legendFormat": "{{pod}} (requests)", "refId": "A"},
        {"expr": "kube_pod_container_resource_limits{namespace=\"maritime-reservations-staging\", resource=\"cpu\"}", "legendFormat": "{{pod}} (limits)", "refId": "B"}
      ],
      "title": "CPU Resources by Pod",
      "type": "timeseries"
    },
    {
      "datasource": {"type": "prometheus", "uid": "${prometheus_datasource}"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "custom": {"axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 10, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "never", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}},
          "unit": "bytes"
        }
      },
      "gridPos": {"h": 8, "w": 12, "x": 12, "y": 20},
      "id": 31,
      "options": {"legend": {"calcs": ["mean", "max"], "displayMode": "table", "placement": "right", "showLegend": true}, "tooltip": {"mode": "single", "sort": "none"}},
      "targets": [
        {"expr": "kube_pod_container_resource_requests{namespace=\"maritime-reservations-staging\", resource=\"memory\"}", "legendFormat": "{{pod}} (requests)", "refId": "A"},
        {"expr": "kube_pod_container_resource_limits{namespace=\"maritime-reservations-staging\", resource=\"memory\"}", "legendFormat": "{{pod}} (limits)", "refId": "B"}
      ],
      "title": "Memory Resources by Pod",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 28},
      "id": 104,
      "panels": [],
      "title": "Kubernetes Status",
      "type": "row"
    },
    {
      "datasource": {"type": "prometheus", "uid": "${prometheus_datasource}"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "custom": {"axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "bars", "fillOpacity": 100, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "never", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}},
          "unit": "short"
        }
      },
      "gridPos": {"h": 6, "w": 12, "x": 0, "y": 29},
      "id": 40,
      "options": {"legend": {"calcs": [], "displayMode": "list", "placement": "bottom", "showLegend": true}, "tooltip": {"mode": "single", "sort": "none"}},
      "targets": [
        {"expr": "increase(kube_pod_container_status_restarts_total{namespace=\"maritime-reservations-staging\"}[1h])", "legendFormat": "{{pod}}", "refId": "A"}
      ],
      "title": "Pod Restarts (last 1h)",
      "type": "timeseries"
    },
    {
      "datasource": {"type": "prometheus", "uid": "${prometheus_datasource}"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "custom": {"align": "auto", "displayMode": "auto", "inspect": false},
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}
        },
        "overrides": [
          {"matcher": {"id": "byName", "options": "Ready"}, "properties": [{"id": "custom.displayMode", "value": "color-background"}, {"id": "thresholds", "value": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}]}
        ]
      },
      "gridPos": {"h": 6, "w": 12, "x": 12, "y": 29},
      "id": 41,
      "options": {"footer": {"enablePagination": false, "fields": "", "reducer": ["sum"], "show": false}, "showHeader": true},
      "targets": [
        {"expr": "kube_deployment_status_replicas{namespace=\"maritime-reservations-staging\"}", "format": "table", "instant": true, "legendFormat": "", "refId": "A"},
        {"expr": "kube_deployment_status_replicas_ready{namespace=\"maritime-reservations-staging\"}", "format": "table", "instant": true, "legendFormat": "", "refId": "B"}
      ],
      "title": "Deployment Status",
      "transformations": [
        {"id": "seriesToColumns", "options": {"byField": "deployment"}},
        {"id": "organize", "options": {"excludeByName": {"Time": true, "Time 1": true, "Time 2": true, "__name__": true, "__name__ 1": true, "__name__ 2": true, "instance": true, "instance 1": true, "instance 2": true, "job": true, "job 1": true, "job 2": true, "namespace": true, "namespace 1": true, "namespace 2": true}, "renameByName": {"Value #A": "Replicas", "Value #B": "Ready", "deployment": "Deployment"}}}
      ],
      "type": "table"
    },
    {
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 35},
      "id": 105,
      "panels": [],
      "title": "Traefik Ingress",
      "type": "row"
    },
    {
      "datasource": {"type": "prometheus", "uid": "${prometheus_datasource}"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "custom": {"axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 10, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "never", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}},
          "unit": "reqps"
        }
      },
      "gridPos": {"h": 6, "w": 8, "x": 0, "y": 36},
      "id": 50,
      "options": {"legend": {"calcs": [], "displayMode": "list", "placement": "bottom", "showLegend": true}, "tooltip": {"mode": "single", "sort": "none"}},
      "targets": [
        {"expr": "sum(rate(traefik_service_requests_total[5m])) by (service)", "legendFormat": "{{service}}", "refId": "A"}
      ],
      "title": "Request Rate by Service",
      "type": "timeseries"
    },
    {
      "datasource": {"type": "prometheus", "uid": "${prometheus_datasource}"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "custom": {"axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 10, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "never", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}},
          "unit": "s"
        }
      },
      "gridPos": {"h": 6, "w": 8, "x": 8, "y": 36},
      "id": 51,
      "options": {"legend": {"calcs": [], "displayMode": "list", "placement": "bottom", "showLegend": true}, "tooltip": {"mode": "single", "sort": "none"}},
      "targets": [
        {"expr": "histogram_quantile(0.95, sum(rate(traefik_service_request_duration_seconds_bucket[5m])) by (le, service))", "legendFormat": "P95 {{service}}", "refId": "A"}
      ],
      "title": "Request Latency P95",
      "type": "timeseries"
    },
    {
      "datasource": {"type": "prometheus", "uid": "${prometheus_datasource}"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "custom": {"axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 10, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "never", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}},
          "unit": "short"
        }
      },
      "gridPos": {"h": 6, "w": 8, "x": 16, "y": 36},
      "id": 52,
      "options": {"legend": {"calcs": [], "displayMode": "list", "placement": "bottom", "showLegend": true}, "tooltip": {"mode": "single", "sort": "none"}},
      "targets": [
        {"expr": "sum(rate(traefik_service_requests_total{code=~\"5..\"}[5m])) by (service)", "legendFormat": "5xx {{service}}", "refId": "A"}
      ],
      "title": "Error Rate (5xx)",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 42},
      "id": 106,
      "panels": [],
      "title": "Logs",
      "type": "row"
    },
    {
      "datasource": {"type": "loki", "uid": "${loki_datasource}"},
      "gridPos": {"h": 8, "w": 12, "x": 0, "y": 43},
      "id": 60,
      "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": false, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
      "targets": [{"expr": "{app=\"backend\", environment=\"staging\"}", "refId": "A"}],
      "title": "Backend Logs",
      "type": "logs"
    },
    {
      "datasource": {"type": "loki", "uid": "${loki_datasource}"},
      "gridPos": {"h": 8, "w": 12, "x": 12, "y": 43},
      "id": 61,
      "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": false, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
      "targets": [{"expr": "{app=\"chatbot\", environment=\"staging\"}", "refId": "A"}],
      "title": "Chatbot Logs",
      "type": "logs"
    },
    {
      "datasource": {"type": "loki", "uid": "${loki_datasource}"},
      "gridPos": {"h": 8, "w": 12, "x": 0, "y": 51},
      "id": 62,
      "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": false, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
      "targets": [{"expr": "{app=\"celery-worker\", environment=\"staging\"}", "refId": "A"}],
      "title": "Celery Worker Logs",
      "type": "logs"
    },
    {
      "datasource": {"type": "loki", "uid": "${loki_datasource}"},
      "gridPos": {"h": 8, "w": 12, "x": 12, "y": 51},
      "id": 63,
      "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": false, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
      "targets": [{"expr": "{environment=\"staging\"} |= \"error\"", "refId": "A"}],
      "title": "Error Logs (All Services)",
      "type": "logs"
    }
  ],
  "refresh": "30s",
  "schemaVersion": 38,
  "style": "dark",
  "tags": ["voilaferry", "staging", "kubernetes"],
  "templating": {
    "list": [
      {
        "current": {"selected": false, "text": "grafanacloud-voilaferry-prom", "value": "grafanacloud-voilaferry-prom"},
        "hide": 0,
        "includeAll": false,
        "label": "Prometheus",
        "multi": false,
        "name": "prometheus_datasource",
        "options": [],
        "query": "prometheus",
        "queryValue": "",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "type": "datasource"
      },
      {
        "current": {"selected": false, "text": "grafanacloud-voilaferry-logs", "value": "grafanacloud-voilaferry-logs"},
        "hide": 0,
        "includeAll": false,
        "label": "Loki",
        "multi": false,
        "name": "loki_datasource",
        "options": [],
        "query": "loki",
        "queryValue": "",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "type": "datasource"
      }
    ]
  },
  "time": {"from": "now-1h", "to": "now"},
  "timepicker": {},
  "timezone": "",
  "title": "VoilaFerry Staging - Complete",
  "uid": "voilaferry-staging-complete",
  "version": 1,
  "weekStart": ""
}
